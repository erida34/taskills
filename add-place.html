<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="css/reset.css" />
        <link rel="stylesheet" href="css/style.css" />
        <title>Места</title>
    </head>
    <body>
        <header>
            <!-- Section MENU -->
            <section class="section section_menu">
                <nav class="container">
                    <ul class="flex menu">
                        <li>
                            <a class="menu__link menu__link_r text_aver" href="index.html">Места</a>
                            <a class="menu__link text_aver" href="routes.html">Маршруты</a>
                        </li>
                        <li>
                            <button class="menu__link text_aver drop-menu__link">
                                Login <img src="images/icons/arrow-down.png" alt="" class="menu__arrow" />
                            </button>
                            <ul class="drop-menu">
                                <li class="btn_menu btn_change-pass">
                                    <img src="images/icons/key.png" alt="" class="btn_menu__img" />
                                    <span class="text_small midi-text">Сменить пароль</span>
                                </li>
                                <li class="btn_menu btn_exit">
                                    <img src="images/icons/logout.png" alt="" class="btn_menu__img" />
                                    <span class="text_small midi-text">Выйти</span>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </nav>
            </section>
            <!-- Section MENU -->
        </header>
        <main>
            <!-- Section ADD Form-->
            <section class="section section_top">
                <div class="container">
                    <form action="">
                        <div class="flex input-box input-box_add">
                            <input type="text" name="placename" placeholder="Название памятного места" required />
                        </div>
                        <div class="flex input-box input-box_add">
                            <input type="text" name="adress" placeholder="Адрес" required />
                        </div>
                        <div class="flex input-box input-box_add input-box_add_short">
                            <input type="text" name="coord" placeholder="Координаты" required />
                        </div>
                        <div class="flex input-box input-box_add">
                            <textarea
                                class="input-descr"
                                type="text"
                                name="descr"
                                placeholder="Описание"
                                required
                            ></textarea>
                        </div>

                        <!-- вставка картинок -->
                        <div class="flex input-box input-box_add">
                            <input type="hidden" name="image1" />
                        </div>

                        <div>
                            <input type="file" id="img" multiple accept="image/*" name="img" />
                        </div>
                        <div>
                            <img id="img-preview" src="default-preview.jpg" />
                            <a href="#" id="reset-img-preview">удалить изображения</a>
                        </div>
                        <div>
                            <img id="img-preview" src="default-preview.jpg" />
                        </div>

                        <!-- <div class="file-upload">
                            <label class="form-label" for="id_image">Выберите файл </label>
                            <input type="file" name="image" class="uploaded-file" id="id_image" />
                        </div>

                        <div id="preview"></div>-->
                        <button type="submit">Добавить</button>
                    </form>
                    <button class="add-form">+</button>
                </div>
            </section>
            <!-- Section ADD Form -->

            <!-- MODAL window Change password -->
            <div class="flex-cen modal-wrap modal-wrap_change">
                <div class="flex flex-col flex-cen modal-window modal-window_change">
                    <button class="btn_close">
                        <img src="images/icons/close.png" />
                    </button>
                    <p class="text_midi title_middle mb-20 modal__title">Сменить пароль</p>
                    <form class="flex flex-col flex-cen modal_form">
                        <div class="input-box-wrapper">
                            <div class="flex input-box input-box_change">
                                <input type="text" name="oldpass" minlength="3" placeholder="Старый пароль" required />
                            </div>
                            <div class="flex input-box input-box_change">
                                <input
                                    type="text"
                                    name="newpass"
                                    minlength="3"
                                    maxlength="20"
                                    class="password_input"
                                    placeholder="Новый пароль"
                                    required
                                />
                            </div>
                            <div class="flex input-box input-box_change mb-20">
                                <input
                                    type="text"
                                    name="repnewpass"
                                    minlength="3"
                                    placeholder="Повторите пароль"
                                    required
                                />
                            </div>
                        </div>
                        <button type="submit" class="btn mb-20 btn_change text_small text_midi disabled">
                            Сменить
                        </button>
                    </form>
                </div>
            </div>
            <!-- MODAL window Change password -->

            <!-- MODAL window Exit -->
            <div class="flex-cen modal-wrap modal-wrap_exit">
                <div class="flex flex-col flex-cen modal-window">
                    <button class="btn_close">
                        <img src="images/icons/close.png" />
                    </button>
                    <p class="text_midi title_middle mb-20 modal__title">Вы действительно хотите выйти?</p>
                    <form class="flex flex-col flex-cen modal__form" action="#">
                        <button type="submit" class="btn text_small midi-text">Выйти</button>
                    </form>
                </div>
            </div>
            <!-- MODAL window Exit -->
        </main>
        <footer>
            <section class="section section_footer">
                <div class="container">
                    <p class="name-org"></p>
                </div>
            </section>
        </footer>
        <script src="js/jquery-3.6.0.min.js"></script>
        <script src="js/scripts.js"></script>
        <script>
            $("#img").change(function () {
                var input = $(this)[0];
                if (input.files && input.files[0]) {
                    if (input.files[0].type.match("image.*")) {
                        var reader = new FileReader();
                        reader.onload = function (e) {
                            $("#img-preview").attr("src", e.target.result);
                        };
                        reader.readAsDataURL(input.files[0]);
                    } else {
                        console.log("ошибка, не изображение");
                    }
                } else {
                    console.log("хьюстон у нас проблема");
                }
            });

            $("#reset-img-preview").click(function () {
                $("#img").val("");
                $("#img-preview").attr("src", "default-preview.jpg");
            });

            $("#form").bind("reset", function () {
                $("#img-preview").attr("src", "default-preview.jpg");
            });

            $("#reset-img-preview").click(function () {
                $("#img").val("");
                $("#img-preview").attr("src", "default-preview.jpg");
            });

            $("#form").bind("reset", function () {
                $("#img-preview").attr("src", "default-preview.jpg");
            });
        </script>
    </body>
</html>
